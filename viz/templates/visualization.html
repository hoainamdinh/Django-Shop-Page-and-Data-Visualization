{% extends 'layout.html' %}
{% load static %}

{% block content %}
<div class="container">
    <h1>Data Visualization with D3.js</h1>

    <div id="buttons" style="text-align:center; margin-bottom:24px">
        <button class="btn" onclick="q1()">Q1</button>
        <button class="btn" onclick="q2()">Q2</button>
        <button class="btn" onclick="q3()">Q3</button>
        <button class="btn" onclick="q4()">Q4</button>
        <button class="btn" onclick="q5()">Q5</button>
        <button class="btn" onclick="q6()">Q6</button>
        <button class="btn" onclick="q7()">Q7</button>
        <button class="btn" onclick="q8()">Q8</button>
        <button class="btn" onclick="q9()">Q9</button>
        <button class="btn" onclick="q10()">Q10</button>
        <button class="btn" onclick="q11()">Q11</button>
        <button class="btn" onclick="q12()">Q12</button>
    </div>

    <div id="title" style="margin-top:24px; font-size:1.1em; color:#2c3e50"></div>
    <div id="chart"></div>
</div>

<footer style="margin-top: auto; text-align: center; font-size: 0.9em; color: #888; padding: 20px 0;">
    <p>&copy; 2025 Visualizations by Hoai Nam Dinh.</p>
</footer>
    
<!-- ThÆ° viá»‡n ngoÃ i -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://d3js.org/d3.v7.min.js"></script>

<!-- Dá»¯ liá»‡u tá»« Django -->
<script>
    // Set dá»¯ liá»‡u tá»« Django vÃ o biáº¿n global
    window.globalData = {{ data|safe }};
    console.log("ðŸ”— Data from Django template:", window.globalData);
</script>

<!-- CSS & JS tÄ©nh -->
<link rel="stylesheet" href="{% static 'styles.css' %}">
<script src="{% static 'scripts.js' %}"></script>
{% endblock %}
